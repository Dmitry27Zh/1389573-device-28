var storageName,storageEmail,buttonFeedback=document.querySelector(".button-feedback"),modalFeedback=document.querySelector(".modal-feedback"),modalClose=modalFeedback.querySelector(".modal-close"),feedbackForm=modalFeedback.querySelector(".feedback"),inputName=feedbackForm.querySelector("[name=user-name]"),inputEmail=feedbackForm.querySelector("[name=user-email]"),inputText=feedbackForm.querySelector("[name=text]"),isStorageAvailable=!0;try{storageName=localStorage.getItem("user-name"),storageEmail=localStorage.getItem("user-email")}catch(e){isStorageAvailable=!1}buttonFeedback.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show"),isStorageAvailable?(inputName.value=storageName,inputEmail.value=storageEmail,inputText.focus()):inputName.focus()}),modalClose.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-shake")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-shake"))}),feedbackForm.addEventListener("submit",function(e){inputName.value&&inputEmail.value&&inputText.value?(localStorage.setItem("user-name",inputName.value),localStorage.setItem("user-email",inputEmail.value)):(e.preventDefault(),modalFeedback.classList.remove("modal-shake"),modalFeedback.offsetWidth,modalFeedback.classList.add("modal-shake"))});